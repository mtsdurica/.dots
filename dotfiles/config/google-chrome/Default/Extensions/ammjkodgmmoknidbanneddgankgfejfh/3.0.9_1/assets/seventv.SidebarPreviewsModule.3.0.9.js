import{d as k}from"./seventv.useModule.3.0.9.js";import{e as w,G as g,ar as d,a as y,ak as u,al as C,a4 as S,ao as P,l,f as h,m as T,F as b,s as j,u as x,aj as E}from"./seventv.index.3.0.9.js";import{u as O}from"./seventv.ReactHooks.3.0.9.js";import{r as F,L as H,u as v}from"./seventv.useUserAgent.3.0.9.js";const L=w({__name:"SidebarCard",props:{instance:{}},setup(f){const o=f,s=g("ui.sidebar_previews"),a=F();d(o.instance.component,"props",{value:t=>{d(t,"tooltipContent",{value:e=>{typeof e=="object"&&(a.value=e)}})}}),y(a,(t,e)=>{t!=e&&(e&&typeof e.type=="function"&&u(e.type.prototype,"render"),t&&typeof t.type=="function"&&(C(t.type.prototype,"render",function(n,...p){const c=(n==null?void 0:n.apply(this,p))??null;return m(this,c)}),r()))},{immediate:!0}),y(s,()=>r());function r(){H(o.instance.component).forceUpdate()}function m(t,e){var p,c,_;if(!s.value)return e;const n=(p=e==null?void 0:e.props)==null?void 0:p.children;return!n||!((c=n.props)!=null&&c.children)||(n.props.style={width:"20rem"},n.props.children.splice(2,0,{[P]:Symbol.for("react.element"),ref:null,key:null,type:"div",props:{className:"seventv-sidebar-tooltip-preview",style:{backgroundImage:i(((_=t.props.channelDisplayName)==null?void 0:_.toLowerCase())??"???")}}})),e}function i(t){let e=`https://static-cdn.jtvnw.net/previews-ttv/live_user_${t}-190x107.jpg`;return e+=`?${Math.floor(Date.now()/3e5)}`,`url("${e}")`}return S(()=>{var t,e;u(o.instance.component,"props"),(t=o.instance.component)!=null&&t.props&&u(o.instance.component.props,"tooltipContent"),typeof((e=a.value)==null?void 0:e.type)=="function"&&u(a.value.type.prototype,"type")}),(t,e)=>null}});const M=[E("ui.sidebar_previews","TOGGLE",{path:["Appearance","Interface"],label:"Sidebar Stream Thumbnails",hint:"Show stream thumbnails when hovering over streams on the sidebar.",defaultValue:!1})],N=w({__name:"SidebarPreviewsModule",setup(f){const{markAsReady:o}=k("sidebar-previews",{name:"Sidebar Previews",depends_on:["settings"]}),s=g("ui.sidebar_previews"),a=O({parentSelector:".side-nav-section",predicate:r=>r.props&&r.props.title&&r.props.isWatchParty!==null&&r.props.linkTo});return o(),(r,m)=>(l(!0),h(b,null,T(v(a).instances,i=>(l(),h(b,{key:i.identifier},[v(s)?(l(),j(L,{key:0,instance:i},null,8,["instance"])):x("",!0)],64))),128))}}),R=Object.freeze(Object.defineProperty({__proto__:null,config:M,default:N},Symbol.toStringTag,{value:"Module"}));export{R as _};
