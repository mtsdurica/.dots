import{i as g,S as E}from"./seventv.index.3.0.9.js";import{a as o}from"./seventv.useUserAgent.3.0.9.js";const d=new Map,p=new Map,a=[];async function S(){if(a.length)return a;const r=g(E,""),e=await(await fetch(r+"/emoji/emoji.json")).json().catch(()=>{});for(const i of e){const t=i;t.emote={id:t.codes,name:t.name,unicode:t.char,provider:"EMOJI",flags:0},d.set(t.name,t),p.set(t.char,t)}a.push(...e)}function h(){return o({emojiList:a,emojiByCode:p,emojiByName:d})}const f=new WeakMap,c={},v={};function T(r){let e=f.get(r);e||(e=o({active:o({}),sets:o({}),emojis:o(v),providers:{"7TV":o({}),FFZ:o({}),BTTV:o({}),PLATFORM:o({}),EMOJI:o(c)}}),f.set(r,e));function i(){if(e){for(const s in e.providers)if(s!=="EMOJI")for(const u in e.providers[s])delete e.providers[s][u]}}function t(s){return e?e.providers[s]:{}}function j(s,u=!1){if(!e)return null;if(u){for(const n of Object.values(e.active))if(s(n))return n}else for(const n of Object.values(e.providers))for(const l of Object.values(n))for(const m of Object.values(l.emotes))if(s(m))return m;return null}return o({active:e.active,sets:e.sets,emojis:e.emojis,providers:e.providers,resetProviders:i,byProvider:t,find:j})}function w(){const{emojiList:r}=h();r.forEach(e=>{c[e.group]||(c[e.group]={id:e.group,name:e.group,provider:"EMOJI",emotes:[],tags:[],immutable:!0,privileged:!0,flags:0}),c[e.group].emotes.push(e.emote),v[e.emote.name]=e.emote})}export{h as a,w as c,S as l,T as u};
