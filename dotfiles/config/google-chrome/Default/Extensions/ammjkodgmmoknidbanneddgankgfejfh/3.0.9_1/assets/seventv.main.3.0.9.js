import{aR as o,Q as i}from"./seventv.index.3.0.9.js";import{ad as a}from"./seventv.useUserAgent.3.0.9.js";const u=o("main",{state:()=>({platform:"UNKNOWN",providers:new Set,theme:"DARK",identity:null,identityFetched:!1,appUser:null,location:null,agent:new a.UAParser,workers:{net:null}}),actions:{setIdentity(e,t){if(this.identity&&t&&this.identity.id===t.id)return;this.platform=e,this.identity=t;const{sendMessage:r,target:s}=i();s.addEventListener("identity_fetched",n=>{this.identityFetched=!0,n.detail.user&&(this.appUser=n.detail.user)},{once:!0}),r("STATE",{identity:t})},setPreferredImageFormat(e){const{sendMessage:t}=i();t("STATE",{imageFormat:e})},setPlatform(e,t,r){this.platform=e,this.providers=new Set(t);const{sendMessage:s}=i();s("STATE",{platform:e,providers:t,provider_extensions:r})},setLocation(e){this.location=e}},getters:{getIdentity(e){return e.identity},getLocation(e){return e.location},browser(){return this.agent.getBrowser()},avifSupported(){return this.browser.name==="Chrome"&&parseInt(this.browser.version,10)>=100||this.browser.name==="Firefox"&&parseInt(this.browser.version,10)>=113}}});export{u};
